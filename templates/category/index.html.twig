{% extends 'base.html.twig' %}

{% block title %}Categories Listings{% endblock %}

{% block body %}
    {% include "main/page_header.html.twig" with {
        page_title: 'Task Categories List',
        actions: [
            {
                action_route: 'category_new',
                action_class: 'success',
                label: 'add new category',
            },{
                action_route: 'user_task_new',
                action_class: 'info',
                label: 'add new task',
            },{
                action_route: 'user_task_index',
                label: 'go to tasks',
            },
        ]
    } %}
    <section class="row">
        <div class="col-12">
            <div class="card-columns">
                {% for category in categories %}
                    <div class="card">
                        <div class="card-body">
                            <h4 class="card-title">{{ category.name}}</h4>
                            <div class="card-text">
                                <p class="text-muted">There are {{category.tasks.count}} tasks in this category.</p>
                            </div>
                        </div>
                        <a class="card-footer bg-info btn-block btn btn-sm btn-info" href="{{ path('category_show', {'id': category.id}) }}">show</a>
                            {# <a class="btn btn-sm row-cols-6 btn-warning" href="{{ path('category_edit', {'id': category.id}) }}">edit</a> #}
                    </div>
                {% else %}
                <div class="col">
                    <p class="h1 display-4 text-warning">No Categories found</p>
                    <a class="btn btn-success btn-lg" href="{{path('category_new')}}">Add new category</a>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
{% endblock %}
